<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description"
        content="Track your achievements, earn badges, and climb the XP leaderboard on XAYTHEON." />
    <title>Achievements & Leaderboard ‚Äî XAYTHEON</title>
    <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="style.css" />
     <link rel="stylesheet" href="style.css?v=3">
    <link rel="stylesheet" href="achievements.css" />
    <script src="theme.js"></script>
    
    <script defer src="auth.js"></script>
    <script defer src="i18n.js"></script>
    <script defer src="pwa.js"></script>

    <!-- Supabase SDK & auth bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.44.4/dist/umd/supabase.min.js"></script>
    <script defer src="auth.js"></script>
     <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>

<body class="eightgon-page">
    <div class="page-wrapper">

        <div id="header-placeholder"></div>

        <main>
            <section id="achievements" class="achievements-section">
                <div class="container">

                    <!-- Header -->
                    <div class="achievements-header">
                        <div>
                            <h1 class="section-title">üèÜ Achievements & Leaderboard</h1>
                            <p class="section-subtitle">Earn badges, collect XP, and compete with the community</p>
                        </div>
                    </div>

                    <!-- Auth Warning -->
                    <div id="auth-warning" class="warning-card" style="display: none;">
                        <div class="warning-icon">‚ö†Ô∏è</div>
                        <div>
                            <h3>Sign In to Track Progress</h3>
                            <p>Please <a href="login.html">sign in</a> to unlock achievements and track your XP
                                progress.</p>
                        </div>
                    </div>

                    <!-- User Stats Panel -->
                    <div class="user-stats-panel" id="user-stats-panel">
                        <div class="xp-card">
                            <div class="level-badge" id="level-badge">
                                <span class="level-number">1</span>
                                <span class="level-label">LEVEL</span>
                            </div>
                            <div class="xp-info">
                                <div class="xp-bar-container">
                                    <div class="xp-bar" id="xp-bar" style="width: 0%"></div>
                                </div>
                                <div class="xp-text">
                                    <span id="current-xp">0</span> / <span id="next-level-xp">100</span> XP
                                </div>
                            </div>
                            <div class="streak-info">
                                <div class="streak-flame">üî•</div>
                                <div>
                                    <span class="streak-count" id="streak-count">0</span>
                                    <span class="streak-label">day streak</span>
                                </div>
                            </div>
                        </div>

                        <div class="quick-stats">
                            <div class="stat-item">
                                <span class="stat-value" id="achievements-unlocked">0</span>
                                <span class="stat-label">Unlocked</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="total-achievements">0</span>
                                <span class="stat-label">Total</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="user-rank">#-</span>
                                <span class="stat-label">Rank</span>
                            </div>
                        </div>
                    </div>

                    <!-- Tabs -->
                    <div class="tabs">
                        <button class="tab-btn active" data-tab="badges">üèÖ Badges</button>
                        <button class="tab-btn" data-tab="leaderboard">üèÜ Leaderboard</button>
                        <button class="tab-btn" data-tab="activity">üìä XP Activity</button>
                    </div>

                    <!-- Badges Tab -->
                    <div class="tab-content active" id="badges-tab">
                        <!-- Category Filters -->
                        <div class="category-filters">
                            <button class="filter-btn active" data-category="all">All</button>
                            <button class="filter-btn" data-category="stars">‚≠ê Stars</button>
                            <button class="filter-btn" data-category="repos">üì¶ Repos</button>
                            <button class="filter-btn" data-category="social">üë• Social</button>
                            <button class="filter-btn" data-category="commits">üíª Commits</button>
                            <button class="filter-btn" data-category="streak">üî• Streak</button>
                            <button class="filter-btn" data-category="special">üéÅ Special</button>
                        </div>

                        <!-- Badges Grid -->
                        <div class="badges-grid" id="badges-grid">
                            <!-- Badges will be populated here -->
                        </div>
                    </div>

                    <!-- Leaderboard Tab -->
                    <div class="tab-content" id="leaderboard-tab">
                        <div class="leaderboard-container">
                            <div class="leaderboard-podium" id="leaderboard-podium">
                                <!-- Top 3 will be populated here -->
                            </div>
                            <div class="leaderboard-list" id="leaderboard-list">
                                <!-- Remaining positions will be populated here -->
                            </div>
                        </div>
                    </div>

                    <!-- Activity Tab -->
                    <div class="tab-content" id="activity-tab">
                        <div class="activity-list" id="activity-list">
                            <!-- XP activity will be populated here -->
                        </div>
                    </div>

                </div>
            </section>
        </main>

       <div id="footer-placeholder"></div>

        <div class="cursor-container">
            <span class="cursor-dot"></span>
            <span class="cursor-dot"></span>
            <span class="cursor-dot"></span>
            <span class="cursor-dot"></span>
            <span class="cursor-dot"></span>
            <span class="cursor-dot"></span>
            <span class="cursor-dot"></span>
            <span class="cursor-dot"></span>
        </div>

    </div>

    <!-- Achievement Unlock Modal -->
    <div id="unlock-modal" class="modal" style="display: none;">
        <div class="modal-content unlock-modal-content">
            <div class="unlock-animation">
                <div class="unlock-badge" id="unlock-badge-icon">üèÜ</div>
                <div class="unlock-particles"></div>
            </div>
            <h2>Achievement Unlocked!</h2>
            <h3 id="unlock-badge-name">Badge Name</h3>
            <p id="unlock-badge-desc">Badge description</p>
            <div class="unlock-xp">+<span id="unlock-xp-amount">10</span> XP</div>
            <button class="btn btn-primary" onclick="closeUnlockModal()">Awesome!</button>
        </div>
    </div>

    <!-- Boilerplate Loader -->
    <script src="boilerplate/boilerplate-loader.js"></script>

    <!-- Main app script -->
    <script src="script.js"></script>
    <!-- Achievements-specific script -->
    <script src="achievements.js"></script>
    <script>
    fetch('navbar.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('navbar-placeholder').innerHTML = data;

            // Optional: Re-run JS for menu toggle & theme switch after navbar is loaded
            if (typeof initNavbar === "function") initNavbar();
        })
        .catch(error => console.error('Error loading navbar:', error));
</script>

<script src="theme.js"></script>

</body>

</html>

